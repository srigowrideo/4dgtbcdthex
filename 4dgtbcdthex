DATA SEGMENT PUBLIC;
EXTRN BCD :WORD ;
EXTRN HEX :WORD 
DATA ENDS 
PUBLIC BTOH4 ; 
PROCEDURES SEGMENT PUBLIC
BTOH4 PROC FAR 
ASSUME CS: PROCEDURES ,DS:DATA 
PUSHF ;
PUSH AX ;
PUSH BX 
PUSH CX 
PUSH DX 
MOV AX,BCD ;
MOV DX,AX;
MOV BL,AL; 
AND BL,0FH; 
AND AL,0F0H ; 
MOV CL ,04 
ROR AL,CL ; 
MOV BH,10
MUL BH 
ADD AL,BL 
MOV HEX ,AX; 
MOV AL,DH; 
AND AL,0FH; 
MOV BH,100; 
MUL BH ; 
ADD HEX,AX; 
MOV AL,DH ; 
AND AL,0F0H ; 
MOV CL , 04; 
ROR AL,CL; 
MOV AH, 00;
MOV BX,1000;
MUL BX; 
ADD HEX ,AX;
POP DX; 
POP CX 
POP BX 
POP AX
POPF; 
RET 
BTOH4    ENDP 
PROCEDURES ENDS 
END 
